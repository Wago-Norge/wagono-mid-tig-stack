/*! For license information please see module.js.LICENSE.txt */
define(["@emotion/css","@grafana/data","@grafana/runtime","@grafana/ui","lodash","react"],((t,e,r,n,o,a)=>(()=>{var i=[t=>{"use strict";t.exports=a},t=>{"use strict";t.exports=n},t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},t=>{"use strict";t.exports=e},(t,e,r)=>{var n=r(10),o=r(30),a=r(31),i=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?o(t):a(t)}},(t,e,r)=>{var n=r(11),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();t.exports=a},t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},function(t){t.exports=function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",o="second",a="minute",i="hour",u="day",c="week",l="month",s="quarter",f="year",p="date",y="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},b=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},m={s:b,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),o=r%60;return(e<=0?"+":"-")+b(n,2,"0")+":"+b(o,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),o=e.clone().add(n,l),a=r-o<0,i=e.clone().add(n+(a?-1:1),l);return+(-(n+(r-o)/(a?o-i:i-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:f,w:c,d:u,D:p,h:i,m:a,s:o,ms:n,Q:s}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",w={};w[g]=v;var S=function(t){return t instanceof x},j=function(t,e,r){var n;if(!t)return g;if("string"==typeof t)w[t]&&(n=t),e&&(w[t]=e,n=t);else{var o=t.name;w[o]=t,n=o}return!r&&n&&(g=n),n||!r&&g},O=function(t,e){if(S(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new x(r)},F=m;F.l=j,F.i=S,F.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var x=function(){function v(t){this.$L=j(t.locale,null,!0),this.parse(t)}var b=v.prototype;return b.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(F.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(h);if(n){var o=n[2]-1||0,a=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},b.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},b.$utils=function(){return F},b.isValid=function(){return!(this.$d.toString()===y)},b.isSame=function(t,e){var r=O(t);return this.startOf(e)<=r&&r<=this.endOf(e)},b.isAfter=function(t,e){return O(t)<this.startOf(e)},b.isBefore=function(t,e){return this.endOf(e)<O(t)},b.$g=function(t,e,r){return F.u(t)?this[e]:this.set(r,t)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(t,e){var r=this,n=!!F.u(e)||e,s=F.p(t),y=function(t,e){var o=F.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?o:o.endOf(u)},h=function(t,e){return F.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},d=this.$W,v=this.$M,b=this.$D,m="set"+(this.$u?"UTC":"");switch(s){case f:return n?y(1,0):y(31,11);case l:return n?y(1,v):y(0,v+1);case c:var g=this.$locale().weekStart||0,w=(d<g?d+7:d)-g;return y(n?b-w:b+(6-w),v);case u:case p:return h(m+"Hours",0);case i:return h(m+"Minutes",1);case a:return h(m+"Seconds",2);case o:return h(m+"Milliseconds",3);default:return this.clone()}},b.endOf=function(t){return this.startOf(t,!1)},b.$set=function(t,e){var r,c=F.p(t),s="set"+(this.$u?"UTC":""),y=(r={},r[u]=s+"Date",r[p]=s+"Date",r[l]=s+"Month",r[f]=s+"FullYear",r[i]=s+"Hours",r[a]=s+"Minutes",r[o]=s+"Seconds",r[n]=s+"Milliseconds",r)[c],h=c===u?this.$D+(e-this.$W):e;if(c===l||c===f){var d=this.clone().set(p,1);d.$d[y](h),d.init(),this.$d=d.set(p,Math.min(this.$D,d.daysInMonth())).$d}else y&&this.$d[y](h);return this.init(),this},b.set=function(t,e){return this.clone().$set(t,e)},b.get=function(t){return this[F.p(t)]()},b.add=function(n,s){var p,y=this;n=Number(n);var h=F.p(s),d=function(t){var e=O(y);return F.w(e.date(e.date()+Math.round(t*n)),y)};if(h===l)return this.set(l,this.$M+n);if(h===f)return this.set(f,this.$y+n);if(h===u)return d(1);if(h===c)return d(7);var v=(p={},p[a]=e,p[i]=r,p[o]=t,p)[h]||1,b=this.$d.getTime()+n*v;return F.w(b,this)},b.subtract=function(t,e){return this.add(-1*t,e)},b.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||y;var n=t||"YYYY-MM-DDTHH:mm:ssZ",o=F.z(this),a=this.$H,i=this.$m,u=this.$M,c=r.weekdays,l=r.months,s=function(t,r,o,a){return t&&(t[r]||t(e,n))||o[r].substr(0,a)},f=function(t){return F.s(a%12||12,t,"0")},p=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:F.s(u+1,2,"0"),MMM:s(r.monthsShort,u,l,3),MMMM:s(l,u),D:this.$D,DD:F.s(this.$D,2,"0"),d:String(this.$W),dd:s(r.weekdaysMin,this.$W,c,2),ddd:s(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(a),HH:F.s(a,2,"0"),h:f(1),hh:f(2),a:p(a,i,!0),A:p(a,i,!1),m:String(i),mm:F.s(i,2,"0"),s:String(this.$s),ss:F.s(this.$s,2,"0"),SSS:F.s(this.$ms,3,"0"),Z:o};return n.replace(d,(function(t,e){return e||h[t]||o.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,p,y){var h,d=F.p(p),v=O(n),b=(v.utcOffset()-this.utcOffset())*e,m=this-v,g=F.m(this,v);return g=(h={},h[f]=g/12,h[l]=g,h[s]=g/3,h[c]=(m-b)/6048e5,h[u]=(m-b)/864e5,h[i]=m/r,h[a]=m/e,h[o]=m/t,h)[d]||m,y?g:F.a(g)},b.daysInMonth=function(){return this.endOf(l).$D},b.$locale=function(){return w[this.$L]},b.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=j(t,e,!0);return n&&(r.$L=n),r},b.clone=function(){return F.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},v}(),P=x.prototype;return O.prototype=P,[["$ms",n],["$s",o],["$m",a],["$H",i],["$W",u],["$M",l],["$y",f],["$D",p]].forEach((function(t){P[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,x,O),t.$i=!0),O},O.locale=j,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=w[g],O.Ls=w,O.p={},O}()},t=>{t.exports=function(t){return t}},(t,e,r)=>{var n=r(4),o=r(2);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},(t,e,r)=>{var n=r(5).Symbol;t.exports=n},(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},(t,e,r)=>{var n=r(9),o=r(14);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},(t,e,r)=>{t=r.nmd(t);var n=r(5),o=r(44),a=e&&!e.nodeType&&e,i=a&&t&&!t.nodeType&&t,u=i&&i.exports===a?n.Buffer:void 0,c=(u?u.isBuffer:void 0)||o;t.exports=c},(t,e,r)=>{t=r.nmd(t);var n=r(11),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,i=a&&a.exports===o&&n.process,u=function(){try{var t=a&&a.require&&a.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=u},e=>{"use strict";e.exports=t},t=>{"use strict";t.exports=o},(t,e,r)=>{var n=r(21),o=r(12),a=r(37),i=r(38),u=Object.prototype,c=u.hasOwnProperty,l=n((function(t,e){t=Object(t);var r=-1,n=e.length,l=n>2?e[2]:void 0;for(l&&a(e[0],e[1],l)&&(n=1);++r<n;)for(var s=e[r],f=i(s),p=-1,y=f.length;++p<y;){var h=f[p],d=t[h];(void 0===d||o(d,u[h])&&!c.call(t,h))&&(t[h]=s[h])}return t}));t.exports=l},(t,e,r)=>{var n=r(8),o=r(22),a=r(24);t.exports=function(t,e){return a(o(t,e,n),t+"")}},(t,e,r)=>{var n=r(23),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var a=arguments,i=-1,u=o(a.length-e,0),c=Array(u);++i<u;)c[i]=a[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=a[i];return l[e]=r(c),n(t,this,l)}}},t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},(t,e,r)=>{var n=r(25),o=r(36)(n);t.exports=o},(t,e,r)=>{var n=r(26),o=r(27),a=r(8),i=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:a;t.exports=i},t=>{t.exports=function(t){return function(){return t}}},(t,e,r)=>{var n=r(28),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},(t,e,r)=>{var n=r(29),o=r(35);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},(t,e,r)=>{var n=r(9),o=r(32),a=r(2),i=r(34),u=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,s=c.toString,f=l.hasOwnProperty,p=RegExp("^"+s.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||o(t))&&(n(t)?p:u).test(i(t))}},(t,e,r)=>{var n=r(10),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=a.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=i.call(t);return n&&(e?t[u]=r:delete t[u]),o}},t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},(t,e,r)=>{var n,o=r(33),a=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!a&&a in t}},(t,e,r)=>{var n=r(5)["__core-js_shared__"];t.exports=n},t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var o=e(),a=16-(o-n);if(n=o,a>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},(t,e,r)=>{var n=r(12),o=r(13),a=r(15),i=r(2);t.exports=function(t,e,r){if(!i(r))return!1;var u=typeof e;return!!("number"==u?o(r)&&a(e,r.length):"string"==u&&e in r)&&n(r[e],t)}},(t,e,r)=>{var n=r(39),o=r(48),a=r(13);t.exports=function(t){return a(t)?n(t,!0):o(t)}},(t,e,r)=>{var n=r(40),o=r(41),a=r(43),i=r(16),u=r(15),c=r(45),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=a(t),s=!r&&o(t),f=!r&&!s&&i(t),p=!r&&!s&&!f&&c(t),y=r||s||f||p,h=y?n(t.length,String):[],d=h.length;for(var v in t)!e&&!l.call(t,v)||y&&("length"==v||f&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||u(v,d))||h.push(v);return h}},t=>{t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},(t,e,r)=>{var n=r(42),o=r(6),a=Object.prototype,i=a.hasOwnProperty,u=a.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&i.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},(t,e,r)=>{var n=r(4),o=r(6);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},t=>{var e=Array.isArray;t.exports=e},t=>{t.exports=function(){return!1}},(t,e,r)=>{var n=r(46),o=r(47),a=r(17),i=a&&a.isTypedArray,u=i?o(i):n;t.exports=u},(t,e,r)=>{var n=r(4),o=r(14),a=r(6),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&o(t.length)&&!!i[n(t)]}},t=>{t.exports=function(t){return function(e){return t(e)}}},(t,e,r)=>{var n=r(2),o=r(49),a=r(50),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return a(t);var e=o(t),r=[];for(var u in t)("constructor"!=u||!e&&i.call(t,u))&&r.push(u);return r}},t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},t=>{t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},,t=>{"use strict";t.exports=r}],u={};function c(t){var e=u[t];if(void 0!==e)return e.exports;var r=u[t]={id:t,loaded:!1,exports:{}};return i[t].call(r.exports,r,r.exports,c),r.loaded=!0,r.exports}c.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return c.d(e,{a:e}),e},c.d=(t,e)=>{for(var r in e)c.o(e,r)&&!c.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),c.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var l={};return(()=>{"use strict";c.r(l),c.d(l,{plugin:()=>Be});var t,e,r,n=c(3),o=c(1),a=c(0),i=c.n(a),u=c(18),s=c(19);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=S(t);if(e){var o=S(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return g(this,r)}}function g(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function j(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(){return O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O.apply(this,arguments)}var F=o.LegacyForms.SecretFormField,x=o.LegacyForms.FormField,P=(0,o.stylesFactory)((function(){return{layout:(0,u.css)(t||(e=["\n      display: flex;\n      align-items: center;\n      margin-bottom: 4px;\n      > * {\n        margin-left: 4px;\n        margin-bottom: 0;\n        height: 100%;\n        &:first-child,\n        &:last-child {\n          margin-left: 0;\n        }\n      }\n    "],r||(r=e.slice(0)),t=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))))};var e,r})),_=function(t){var r=t.header,n=t.onBlur,a=t.onChange,u=t.onRemove,c=t.onReset,l=P();return i().createElement("div",{className:l.layout},i().createElement(x,{label:"Header",name:"name",placeholder:"X-Custom-Header",labelWidth:5,value:r.name||"",onChange:function(t){return a(O({},r,{name:t.target.value}))},onBlur:n}),i().createElement(F,{label:"Value","aria-label":"Value",name:"value",isConfigured:r.configured,value:r.value,labelWidth:5,inputWidth:r.configured?11:12,placeholder:"Header Value",onReset:function(){return c(r.id)},onChange:function(t){return a(O({},r,{value:t.target.value}))},onBlur:n}),i().createElement(o.Button,{type:"button","aria-label":"Remove header",variant:"secondary",size:"xs",onClick:function(){return u(r.id)}},e||(e=i().createElement(o.Icon,{name:"trash-alt"}))))};_.displayName="CustomHeaderRow";const E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(c,t);var e,n,a,u=m(c);function c(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),j(w(e=u.call(this,t)),"state",{headers:[]}),j(w(e),"updateSettings",(function(){var t,r=e.state.headers,n=Object.fromEntries(Object.entries(e.props.dataSourceConfig.jsonData).filter((function(t){return!y(t,1)[0].startsWith("headerName")}))),o=Object.fromEntries(Object.entries(e.props.dataSourceConfig.secureJsonData||{}).filter((function(t){return!y(t,1)[0].startsWith("headerValue")}))),a=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=h(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(r.entries());try{for(a.s();!(t=a.n()).done;){var i=y(t.value,2),u=i[0],c=i[1];n["headerName".concat(u+1)]=c.name,c.configured||(o["headerValue".concat(u+1)]=c.value)}}catch(t){a.e(t)}finally{a.f()}e.props.onChange(O({},e.props.dataSourceConfig,{jsonData:n,secureJsonData:o}))})),j(w(e),"onHeaderAdd",(function(){e.setState((function(t){return{headers:[].concat(p(t.headers),[{id:(0,s.uniqueId)(),name:"",value:"",configured:!1}])}}))})),j(w(e),"onHeaderChange",(function(t,r){e.setState((function(e){return{headers:e.headers.map((function(e,n){return t!==n?e:O({},r)}))}}))})),j(w(e),"onHeaderReset",(function(t){e.setState((function(e){return{headers:e.headers.map((function(e){return e.id!==t?e:O({},e,{value:"",configured:!1})}))}}))})),j(w(e),"onHeaderRemove",(function(t){e.setState((function(e){return{headers:e.headers.filter((function(e){return e.id!==t}))}}),e.updateSettings)}));var r=e.props.dataSourceConfig,n=r.jsonData,o=r.secureJsonData,a=r.secureJsonFields;return e.state={headers:Object.keys(n).sort().filter((function(t){return t.startsWith("headerName")})).map((function(t,e){return{id:(0,s.uniqueId)(),name:n[t],value:void 0!==o?o[t]:"",configured:a&&a["headerValue".concat(e+1)]||!1}}))},e}return e=c,(n=[{key:"render",value:function(){var t=this,e=this.state.headers;return i().createElement("div",{className:"gf-form-group"},r||(r=i().createElement("div",{className:"gf-form"},i().createElement("h6",null,"Custom Headers"))),i().createElement("div",null,e.map((function(e,r){return i().createElement(_,{key:e.id,header:e,onChange:function(e){t.onHeaderChange(r,e)},onBlur:t.updateSettings,onRemove:t.onHeaderRemove,onReset:t.onHeaderReset})}))),i().createElement("div",{className:"gf-form"},i().createElement(o.Button,{variant:"secondary",icon:"plus",type:"button",onClick:function(){t.onHeaderAdd()}},"Add header")))}}])&&v(e.prototype,n),a&&v(e,a),Object.defineProperty(e,"prototype",{writable:!1}),c}(a.PureComponent);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}var $,D,C;function T(t){return function(t){if(Array.isArray(t))return M(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||k(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(t,e)||k(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){if(t){if("string"==typeof t)return M(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(t,e):void 0}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=W(t);if(e){var o=W(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return q(this,r)}}function q(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return U(t)}function U(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function H(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J(){return J=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J.apply(this,arguments)}var V=o.LegacyForms.SecretFormField,z=o.LegacyForms.FormField,L=(0,o.stylesFactory)((function(){return{layout:(0,u.css)($||(t=["\n      display: flex;\n      align-items: center;\n      margin-bottom: 4px;\n      > * {\n        margin-left: 4px;\n        margin-bottom: 0;\n        height: 100%;\n        &:first-child,\n        &:last-child {\n          margin-left: 0;\n        }\n      }\n    "],e||(e=t.slice(0)),$=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))))};var t,e})),Y=function(t){var e=t.queryParam,r=t.onBlur,n=t.onChange,a=t.onRemove,u=t.onReset,c=L();return i().createElement("div",{className:c.layout},i().createElement(z,{label:"Key",name:"name",placeholder:"apiKey",labelWidth:8,value:e.name||"",onChange:function(t){return n(J({},e,{name:t.target.value}))},onBlur:r}),i().createElement(V,{label:"Value","aria-label":"Value",name:"value",isConfigured:e.configured,value:e.value,labelWidth:5,inputWidth:e.configured?11:12,placeholder:"apiKeyValuexrCzlMqi6vJwlM5ijRgFL",onReset:function(){return u(e.id)},onChange:function(t){return n(J({},e,{value:t.target.value}))},onBlur:r}),i().createElement(o.Button,{type:"button","aria-label":"Remove queryParam",variant:"secondary",size:"xs",onClick:function(){return a(e.id)}},D||(D=i().createElement(o.Icon,{name:"trash-alt"}))))};Y.displayName="CustomQueryParamRow";const Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}(u,t);var e,r,n,a=B(u);function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),H(U(e=a.call(this,t)),"state",{queryParams:[]}),H(U(e),"updateSettings",(function(){var t,r=e.state.queryParams,n=Object.fromEntries(Object.entries(e.props.dataSourceConfig.jsonData).filter((function(t){return!I(t,1)[0].startsWith("queryParamName")}))),o=Object.fromEntries(Object.entries(e.props.dataSourceConfig.secureJsonData||{}).filter((function(t){return!I(t,1)[0].startsWith("queryParamValue")}))),a=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=k(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(r.entries());try{for(a.s();!(t=a.n()).done;){var i=I(t.value,2),u=i[0],c=i[1];n["queryParamName".concat(u+1)]=c.name,c.configured||(o["queryParamValue".concat(u+1)]=c.value)}}catch(t){a.e(t)}finally{a.f()}e.props.onChange(J({},e.props.dataSourceConfig,{jsonData:n,secureJsonData:o}))})),H(U(e),"onQueryParamAdd",(function(){e.setState((function(t){return{queryParams:[].concat(T(t.queryParams),[{id:(0,s.uniqueId)(),name:"",value:"",configured:!1}])}}))})),H(U(e),"onQueryParamChange",(function(t,r){e.setState((function(e){return{queryParams:e.queryParams.map((function(e,n){return t!==n?e:J({},r)}))}}))})),H(U(e),"onQueryParamReset",(function(t){e.setState((function(e){return{queryParams:e.queryParams.map((function(e){return e.id!==t?e:J({},e,{value:"",configured:!1})}))}}))})),H(U(e),"onQueryParamRemove",(function(t){e.setState((function(e){return{queryParams:e.queryParams.filter((function(e){return e.id!==t}))}}),e.updateSettings)}));var r=e.props.dataSourceConfig,n=r.jsonData,o=r.secureJsonData,i=r.secureJsonFields;return e.state={queryParams:Object.keys(n).sort().filter((function(t){return t.startsWith("queryParamName")})).map((function(t,e){return{id:(0,s.uniqueId)(),name:n[t],value:void 0!==o?o[t]:"",configured:i&&i["queryParamValue".concat(e+1)]||!1}}))},e}return e=u,(r=[{key:"render",value:function(){var t=this,e=this.state.queryParams;return i().createElement("div",{className:"gf-form-group"},C||(C=i().createElement("div",{className:"gf-form"},i().createElement("h6",null,"Query Parameters"))),i().createElement("div",null,e.map((function(e,r){return i().createElement(Y,{key:e.id,queryParam:e,onChange:function(e){t.onQueryParamChange(r,e)},onBlur:t.updateSettings,onRemove:t.onQueryParamRemove,onReset:t.onQueryParamReset})}))),i().createElement("div",{className:"gf-form"},i().createElement(o.Button,{variant:"secondary",icon:"plus",type:"button",onClick:function(){t.onQueryParamAdd()}},"Add Parameter")))}}])&&R(e.prototype,r),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(a.PureComponent);var Z;function K(){return K=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K.apply(this,arguments)}var G=o.LegacyForms.FormField;function X(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return tt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var et=function(t,e,r){var n=X((0,a.useState)(r),2),o=n[0],i=n[1];return(0,a.useEffect)((function(){var r=setTimeout((function(){i(t)}),e);return function(){return clearTimeout(r)}}),[t,e]),o};function rt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return nt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ot=function(t){var e=t.alias,r=t.onChange,n=rt((0,a.useState)(e),2),u=n[0],c=n[1],l=et(u,500,e);return(0,a.useEffect)((function(){l!==e&&r(l||"")}),[l,e,r]),i().createElement(o.Input,{width:12,value:u,onChange:function(t){return c(t.currentTarget.value)}})};function at(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return it(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return it(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ut,ct,lt,st=function(t){var e=t.jsonPath,r=t.onChange,n=at((0,a.useState)(e),2),u=n[0],c=n[1],l=et(u,500,e);(0,a.useEffect)((function(){l!==e&&r(l||"")}),[l,e,r]);var s=[(0,o.BracesPlugin)(),(0,o.SlatePrism)({onlyIn:function(t){return"code_block"===t.type},getSyntax:function(){return"js"}})];return i().createElement(o.QueryField,{additionalPlugins:s,query:u,cleanText:function(t){return t.replace(/[{}[\]="(),!~+\-*/^%\|\$@\.]/g,"").trim()},onChange:function(t){return c(t)},portalOrigin:"wsapi",placeholder:"$.items[*].name"})};function ft(t){return function(t){if(Array.isArray(t))return pt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return pt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yt(){return yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yt.apply(this,arguments)}var ht=function(t){var e=t.value,r=void 0===e?[]:e,n=t.onChange,a=t.limit,u=function(t){return function(e){n(r.map((function(n,o){return t===o?yt({},r[t],{language:e.value}):n})))}},c=function(t){return function(e){n(r.map((function(n,o){return t===o?yt({},r[t],{type:"auto"===e.value?void 0:e.value}):n})))}},l=function(t){return function(e){n(r.map((function(n,o){return t===o?yt({},r[t],{name:e}):n})))}},s=function(t,e){return function(){(!a||r.length<a)&&n([].concat(ft(r.slice(0,t+1)),[yt({name:"",jsonPath:""},e)],ft(r.slice(t+1))))}},f=function(t){return function(){n([].concat(ft(r.slice(0,t)),ft(r.slice(t+1))))}};return i().createElement(i().Fragment,null,r.map((function(t,e){var p,y,h;return i().createElement(o.InlineFieldRow,{key:e},i().createElement(o.InlineField,{label:"Field",tooltip:ut||(ut=i().createElement("div",null,"A"," ",i().createElement("a",{href:"https://goessner.net/articles/JsonPath/",target:"_blank",rel:"noreferrer"},"JSON Path")," ","query that selects one or more values from a JSON object.")),grow:!0},i().createElement(st,{onChange:(h=e,function(t){n(r.map((function(e,n){return h===n?yt({},r[h],{jsonPath:t}):e})))}),jsonPath:t.jsonPath})),i().createElement(o.InlineField,{disabled:!0},i().createElement(o.Select,{width:14,value:"jsonpath",onChange:u(e),options:[{label:"JSONPath",value:"jsonpath"}]})),i().createElement(o.InlineField,{label:"Type",tooltip:"If Auto is set, the JSON property type is used to detect the field type."},i().createElement(o.Select,{value:null!==(p=t.type)&&void 0!==p?p:"auto",width:12,onChange:c(e),options:[{label:"Auto",value:"auto"},{label:"String",value:"string"},{label:"Number",value:"number"},{label:"Time",value:"time"},{label:"Boolean",value:"boolean"}]})),i().createElement(o.InlineField,{label:"Alias",tooltip:"If left blank, the field uses the name of the queried element."},i().createElement(ot,{onChange:l(e),alias:t.name})),(!a||r.length<a)&&i().createElement("a",{className:"gf-form-label",onClick:s(e,{language:null!==(y=t.language)&&void 0!==y?y:"jsonpath"})},ct||(ct=i().createElement(o.Icon,{name:"plus"}))),r.length>1?i().createElement("a",{className:"gf-form-label",onClick:f(e)},lt||(lt=i().createElement(o.Icon,{name:"minus"}))):null)})))},dt=c(20),vt=c.n(dt),bt={path:"",fields:[{jsonPath:"",language:"jsonpath",name:""}],withStreaming:!0};function mt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return gt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wt=function(t){var e=t.path,r=t.onChange,n=mt((0,a.useState)(e),2),u=n[0],c=n[1],l=et(u,500,e);return(0,a.useEffect)((function(){l!==e&&r(l||"")}),[l,e,r]),i().createElement(o.Input,{value:u,label:"Path",placeholder:"/api/v1/ws/realtime",onChange:function(t){return c(t.currentTarget.value)}})};function St(){return St=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},St.apply(this,arguments)}function jt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,u=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){u=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(u)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ot(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ft=function(t){var e=t.query,r=t.onChange,n=t.onRunQuery,u=t.fieldsTab,c=jt((0,a.useState)(0),2),l=c[0],s=c[1],f=vt()(e,bt),p=[{title:"Fields",content:u},{title:"Path",content:i().createElement(o.InlineField,{label:"Path",tooltip:"Websocket URL Path to connect."},i().createElement(wt,{path:f.path,onChange:function(t){r(St({},f,{path:t})),n()}}))}];return i().createElement(i().Fragment,null,i().createElement(o.InlineFieldRow,null,i().createElement(o.InlineField,null,i().createElement(o.RadioButtonGroup,{onChange:function(t){return s(null!=t?t:0)},value:l,options:p.map((function(t,e){return{label:t.title,value:e}}))}))),p[l].content)};function xt(){return xt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xt.apply(this,arguments)}var Pt=c(52),_t=c(7),Et=c.n(_t);function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function $t(t){return $t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$t(t)}function Dt(t,e){return Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Dt(t,e)}function Ct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Tt(t,e,r){return Tt=Ct()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&Dt(o,r.prototype),o},Tt.apply(null,arguments)}function It(t){var e="function"==typeof Map?new Map:void 0;return It=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Tt(t,arguments,$t(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Dt(n,t)},It(t)}function kt(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mt(t){return function(t){if(Array.isArray(t))return Nt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Rt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(t,e){if(t){if("string"==typeof t)return Nt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nt(t,e):void 0}}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bt=Object.prototype.hasOwnProperty;function qt(t,e){return(t=t.slice()).push(e),t}function Ut(t,e){return(e=e.slice()).unshift(t),e}var Wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dt(t,e)}(o,t);var e,r,n=(e=o,r=Ct(),function(){var t,n=$t(e);if(r){var o=$t(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return kt(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=n.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)')).avoidNew=!0,e.value=t,e.name="NewError",e}return o}(It(Error));function Ht(t,e,r,n,o){if(!(this instanceof Ht))try{return new Ht(t,e,r,n,o)}catch(t){if(!t.avoidNew)throw t;return t.value}"string"==typeof t&&(o=n,n=r,r=e,e=t,t=null);var a=t&&"object"===At(t);if(t=t||{},this.json=t.json||r,this.path=t.path||e,this.resultType=t.resultType||"value",this.flatten=t.flatten||!1,this.wrap=!Bt.call(t,"wrap")||t.wrap,this.sandbox=t.sandbox||{},this.preventEval=t.preventEval||!1,this.parent=t.parent||null,this.parentProperty=t.parentProperty||null,this.callback=t.callback||n||null,this.otherTypeCallback=t.otherTypeCallback||o||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==t.autostart){var i={path:a?t.path:e};a?"json"in t&&(i.json=t.json):i.json=r;var u=this.evaluate(i);if(!u||"object"!==At(u))throw new Wt(u);return u}}Ht.prototype.evaluate=function(t,e,r,n){var o=this,a=this.parent,i=this.parentProperty,u=this.flatten,c=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,e=e||this.json,(t=t||this.path)&&"object"===At(t)&&!Array.isArray(t)){if(!t.path&&""!==t.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Bt.call(t,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');e=t.json,u=Bt.call(t,"flatten")?t.flatten:u,this.currResultType=Bt.call(t,"resultType")?t.resultType:this.currResultType,this.currSandbox=Bt.call(t,"sandbox")?t.sandbox:this.currSandbox,c=Bt.call(t,"wrap")?t.wrap:c,this.currPreventEval=Bt.call(t,"preventEval")?t.preventEval:this.currPreventEval,r=Bt.call(t,"callback")?t.callback:r,this.currOtherTypeCallback=Bt.call(t,"otherTypeCallback")?t.otherTypeCallback:this.currOtherTypeCallback,a=Bt.call(t,"parent")?t.parent:a,i=Bt.call(t,"parentProperty")?t.parentProperty:i,t=t.path}if(a=a||null,i=i||null,Array.isArray(t)&&(t=Ht.toPathString(t)),(t||""===t)&&e){var l=Ht.toPathArray(t);"$"===l[0]&&l.length>1&&l.shift(),this._hasParentSelector=null;var s=this._trace(l,e,["$"],a,i,r).filter((function(t){return t&&!t.isParentSelector}));return s.length?c||1!==s.length||s[0].hasArrExpr?s.reduce((function(t,e){var r=o._getPreferredOutput(e);return u&&Array.isArray(r)?t=t.concat(r):t.push(r),t}),[]):this._getPreferredOutput(s[0]):c?[]:void 0}},Ht.prototype._getPreferredOutput=function(t){var e=this.currResultType;switch(e){case"all":var r=Array.isArray(t.path)?t.path:Ht.toPathArray(t.path);return t.pointer=Ht.toPointer(r),t.path="string"==typeof t.path?t.path:Ht.toPathString(t.path),t;case"value":case"parent":case"parentProperty":return t[e];case"path":return Ht.toPathString(t[e]);case"pointer":return Ht.toPointer(t.path);default:throw new TypeError("Unknown result type")}},Ht.prototype._handleCallback=function(t,e,r){if(e){var n=this._getPreferredOutput(t);t.path="string"==typeof t.path?t.path:Ht.toPathString(t.path),e(n,r,t)}},Ht.prototype._trace=function(t,e,r,n,o,a,i,u){var c,l=this;if(!t.length)return c={path:r,value:e,parent:n,parentProperty:o,hasArrExpr:i},this._handleCallback(c,a,"value"),c;var s=t[0],f=t.slice(1),p=[];function y(t){Array.isArray(t)?t.forEach((function(t){p.push(t)})):p.push(t)}if(("string"!=typeof s||u)&&e&&Bt.call(e,s))y(this._trace(f,e[s],qt(r,s),e,s,a,i));else if("*"===s)this._walk(s,f,e,r,n,o,a,(function(t,e,r,n,o,a,i,u){y(l._trace(Ut(t,r),n,o,a,i,u,!0,!0))}));else if(".."===s)y(this._trace(f,e,r,n,o,a,i)),this._walk(s,f,e,r,n,o,a,(function(t,e,r,n,o,a,i,u){"object"===At(n[t])&&y(l._trace(Ut(e,r),n[t],qt(o,t),n,t,u,!0))}));else{if("^"===s)return this._hasParentSelector=!0,{path:r.slice(0,-1),expr:f,isParentSelector:!0};if("~"===s)return c={path:qt(r,s),value:o,parent:n,parentProperty:null},this._handleCallback(c,a,"property"),c;if("$"===s)y(this._trace(f,e,r,null,null,a,i));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(s))y(this._slice(s,f,e,r,n,o,a));else if(0===s.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(s,f,e,r,n,o,a,(function(t,e,r,n,o,a,i,u){l._eval(e.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1"),n[t],t,o,a,i)&&y(l._trace(Ut(t,r),n,o,a,i,u,!0))}))}else if("("===s[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");y(this._trace(Ut(this._eval(s,e,r[r.length-1],r.slice(0,-1),n,o),f),e,r,n,o,a,i))}else if("@"===s[0]){var h=!1,d=s.slice(1,-2);switch(d){case"scalar":e&&["object","function"].includes(At(e))||(h=!0);break;case"boolean":case"string":case"undefined":case"function":At(e)===d&&(h=!0);break;case"integer":!Number.isFinite(e)||e%1||(h=!0);break;case"number":Number.isFinite(e)&&(h=!0);break;case"nonFinite":"number"!=typeof e||Number.isFinite(e)||(h=!0);break;case"object":e&&At(e)===d&&(h=!0);break;case"array":Array.isArray(e)&&(h=!0);break;case"other":h=this.currOtherTypeCallback(e,r,n,o);break;case"null":null===e&&(h=!0);break;default:throw new TypeError("Unknown value type "+d)}if(h)return c={path:r,value:e,parent:n,parentProperty:o},this._handleCallback(c,a,"value"),c}else if("`"===s[0]&&e&&Bt.call(e,s.slice(1))){var v=s.slice(1);y(this._trace(f,e[v],qt(r,v),e,v,a,i,!0))}else if(s.includes(",")){var b,m=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Rt(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}(s.split(","));try{for(m.s();!(b=m.n()).done;){var g=b.value;y(this._trace(Ut(g,f),e,r,n,o,a,!0))}}catch(t){m.e(t)}finally{m.f()}}else!u&&e&&Bt.call(e,s)&&y(this._trace(f,e[s],qt(r,s),e,s,a,i,!0))}if(this._hasParentSelector)for(var w=0;w<p.length;w++){var S=p[w];if(S&&S.isParentSelector){var j=this._trace(S.expr,e,S.path,n,o,a,i);if(Array.isArray(j)){p[w]=j[0];for(var O=j.length,F=1;F<O;F++)w++,p.splice(w,0,j[F])}else p[w]=j}}return p},Ht.prototype._walk=function(t,e,r,n,o,a,i,u){if(Array.isArray(r))for(var c=r.length,l=0;l<c;l++)u(l,t,e,r,n,o,a,i);else r&&"object"===At(r)&&Object.keys(r).forEach((function(c){u(c,t,e,r,n,o,a,i)}))},Ht.prototype._slice=function(t,e,r,n,o,a,i){if(Array.isArray(r)){var u=r.length,c=t.split(":"),l=c[2]&&Number.parseInt(c[2])||1,s=c[0]&&Number.parseInt(c[0])||0,f=c[1]&&Number.parseInt(c[1])||u;s=s<0?Math.max(0,s+u):Math.min(u,s),f=f<0?Math.max(0,f+u):Math.min(u,f);for(var p=[],y=s;y<f;y+=l){this._trace(Ut(y,e),r,n,o,a,i,!0).forEach((function(t){p.push(t)}))}return p}},Ht.prototype._eval=function(t,e,r,n,o,a){t.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=a,t=t.replace(/@parentProperty/g,"_$_parentProperty")),t.includes("@parent")&&(this.currSandbox._$_parent=o,t=t.replace(/@parent/g,"_$_parent")),t.includes("@property")&&(this.currSandbox._$_property=r,t=t.replace(/@property/g,"_$_property")),t.includes("@path")&&(this.currSandbox._$_path=Ht.toPathString(n.concat([r])),t=t.replace(/@path/g,"_$_path")),t.includes("@root")&&(this.currSandbox._$_root=this.json,t=t.replace(/@root/g,"_$_root")),/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/.test(t)&&(this.currSandbox._$_v=e,t=t.replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1"));try{return this.vm.runInNewContext(t,this.currSandbox)}catch(e){throw new Error("jsonPath: "+e.message+": "+t)}},Ht.cache={},Ht.toPathString=function(t){for(var e=t,r=e.length,n="$",o=1;o<r;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[o])||(n+=/^[\*0-9]+$/.test(e[o])?"["+e[o]+"]":"['"+e[o]+"']");return n},Ht.toPointer=function(t){for(var e=t,r=e.length,n="",o=1;o<r;o++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[o])||(n+="/"+e[o].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return n},Ht.toPathArray=function(t){var e=Ht.cache;if(e[t])return e[t].concat();var r=[],n=t.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,(function(t,e){return"[#"+(r.push(e)-1)+"]"})).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,(function(t,e){return"['"+e.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"})).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,(function(t,e){return";"+e.split("").join(";")+";"})).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map((function(t){var e=t.match(/#([0-9]+)/);return e&&e[1]?r[e[1]]:t}));return e[t]=n,e[t].concat()};function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}Ht.prototype.vm={runInNewContext:function(t,e){var r=Object.keys(e),n=[];!function(t,e,r){for(var n=t.length,o=0;o<n;o++)r(t[o])&&e.push(t.splice(o--,1)[0])}(r,n,(function(t){return"function"==typeof e[t]}));var o=r.map((function(t,r){return e[t]})),a=n.reduce((function(t,r){var n=e[r].toString();return/function/.test(n)||(n="function "+n),"var "+r+"="+n+";"+t}),"");/(["'])use strict\1/.test(t=a+t)||r.includes("arguments")||(t="var arguments = undefined;"+t);var i=(t=t.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"")).lastIndexOf(";"),u=i>-1?t.slice(0,i+1)+" return "+t.slice(i+1):" return "+t;return Tt(Function,Mt(r).concat([u])).apply(void 0,Mt(o))}};function Vt(t){return"function"==typeof t}function zt(t){return function(e){if(function(t){return Vt(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Lt=function(t,e){return Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Lt(t,e)};function Yt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Lt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}Object.create;function Qt(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zt(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function Kt(t,e,r){if(r||2===arguments.length)for(var n,o=0,a=e.length;o<a;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}Object.create;var Gt,Xt,te=(Gt=function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}},(Xt=Gt((function(t){Error.call(t),t.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),Xt.prototype.constructor=Xt,Xt);function ee(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var re=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}var e;return t.prototype.unsubscribe=function(){var t,e,r,n,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var i=Qt(a),u=i.next();!u.done;u=i.next()){u.value.remove(this)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}else a.remove(this);var c=this.initialTeardown;if(Vt(c))try{c()}catch(t){o=t instanceof te?t.errors:[t]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var s=Qt(l),f=s.next();!f.done;f=s.next()){var p=f.value;try{ne(p)}catch(t){o=null!=o?o:[],t instanceof te?o=Kt(Kt([],Zt(o)),Zt(t.errors)):o.push(t)}}}catch(t){r={error:t}}finally{try{f&&!f.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}}if(o)throw new te(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)ne(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&ee(e,t)},t.prototype.remove=function(e){var r=this._finalizers;r&&ee(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}();re.EMPTY;function ne(t){Vt(t)?t():t.unsubscribe()}var oe=null,ae=null,ie=!1,ue=!1,ce={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=ce.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,Kt([t,e],Zt(r))):setTimeout.apply(void 0,Kt([t,e],Zt(r)))},clearTimeout:function(t){var e=ce.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function le(){}var se=fe("C",void 0,void 0);function fe(t,e,r){return{kind:t,value:e,error:r}}var pe=null;var ye=function(t){function e(e){var r,n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,((r=e)instanceof re||r&&"closed"in r&&Vt(r.remove)&&Vt(r.add)&&Vt(r.unsubscribe))&&e.add(n)):n.destination=we,n}return Yt(e,t),e.create=function(t,e,r){return new be(t,e,r)},e.prototype.next=function(t){this.isStopped?ge(function(t){return fe("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?ge(fe("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?ge(se,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(re),he=Function.prototype.bind;function de(t,e){return he.call(t,e)}var ve=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){me(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){me(t)}else me(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){me(t)}},t}(),be=function(t){function e(e,r,n){var o,a,i=t.call(this)||this;Vt(e)||!e?o={next:null!=e?e:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:i&&ue?((a=Object.create(e)).unsubscribe=function(){return i.unsubscribe()},o={next:e.next&&de(e.next,a),error:e.error&&de(e.error,a),complete:e.complete&&de(e.complete,a)}):o=e;return i.destination=new ve(o),i}return Yt(e,t),e}(ye);function me(t){var e;ie?(e=t,ie&&pe&&(pe.errorThrown=!0,pe.error=e)):function(t){ce.setTimeout((function(){if(!oe)throw t;oe(t)}))}(t)}function ge(t,e){var r=ae;r&&ce.setTimeout((function(){return r(t,e)}))}var we={closed:!0,next:le,error:function(t){throw t},complete:le};var Se=function(t){function e(e,r,n,o,a,i){var u=t.call(this,e)||this;return u.onFinalize=a,u.shouldUnsubscribe=i,u._next=r?function(t){try{r(t)}catch(t){e.error(t)}}:t.prototype._next,u._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,u}return Yt(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(ye);function je(t,e){return zt((function(r,n){var o,a,i,u=0;r.subscribe(new Se(n,(function(r){n.next(t.call(e,r,u++))}),o,a,i))}))}function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}var Fe=["path"];function xe(){return xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xe.apply(this,arguments)}function Pe(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function _e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ee(t,e){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ee(t,e)}function Ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ie(t);if(e){var o=Ie(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $e(this,r)}}function $e(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return De(t)}function De(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ce(){return Ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Te(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Ce.apply(this,arguments)}function Te(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ie(t)););return t}function Ie(t){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ie(t)}function ke(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Me=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ee(t,e)}(i,t);var e,r,o,a=Ae(i);function i(t){var e,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),ke(De(r=a.call(this,t)),"query",(function(t){var o=t.range,a=t.scopedVars,u=t.panelId,c=t.dashboardId,l=t.targets,s=Re(a,o),f=Object.assign({},t);f.targets=f.targets.map((function(t){var e=t.path;return xe({},Pe(t,Fe),{path:s(e)})}));var p=Ce((e=De(r),Ie(i.prototype)),"query",e).call(e,f),y=l.filter((function(t){return!t.hide})).map((function(t){return t}));return p.pipe(je((function(t){if("Streaming"===t.state){var e,i=null===(e=t.data[0].meta)||void 0===e?void 0:e.channel,l=y.filter((function(t){var e;return s("ds/".concat(null===(e=t.datasource)||void 0===e?void 0:e.uid,"/").concat((null==t?void 0:t.path)||"."))===i})).map((function(e){return r.transformFrames(t.data[0],e,a,o)})),f="".concat(c,"/").concat(u,"/").concat(i)||t.key,p=l.filter((function(t){var e;return!(null===(e=t.meta)||void 0===e||!e.custom)})).map((function(t){var e;return null===(e=t.meta)||void 0===e?void 0:e.custom})),h=p.length?"Some queries returned an error:\n              ".concat(p.map((function(t){return"Query ".concat(null==t?void 0:t.refId," - ").concat(null==t?void 0:t.error)})).join("\n")):void 0;return xe({},t,{data:l,key:y.length>1?f:t.key,state:n.LoadingState.Streaming,error:h?{message:h?"Streaming error: click to see details":void 0,data:{message:h}}:void 0})}return t})))})),ke(De(r),"transformFrames",(function(t,e,n,o){var a,i,u,c=e.refId;if(0===(null==e||null===(a=e.fields)||void 0===a?void 0:a.length))return xe({},t,{refId:c});var l=t.fields,s=null===(i=l.find((function(t){return"data"===t.name})))||void 0===i?void 0:i.values.map((function(t){try{return JSON.parse(t)}catch(e){throw new Error("Invalid JSON: ".concat(t,". Error: ").concat(e))}})),f=null==e||null===(u=e.fields)||void 0===u?void 0:u.filter((function(t){return t.jsonPath})).map((function(t){return r.transformFields(t,n,o,s)}));if(l.find((function(t){return"error"===t.name}))){var p,y=null===(p=l.find((function(t){return"error"===t.name})))||void 0===p?void 0:p.values[0];return xe({},t,{refId:c,fields:f,meta:xe({},t.meta,{custom:{error:y,refId:c}})})}return xe({},t,{refId:c,fields:null!=f?f:l})})),ke(De(r),"transformFields",(function(t,e,r,o){var a,i,u=Re(e,r),c=u(t.jsonPath),l=null!==(a=null==o?void 0:o.flatMap((function(t){return Ht({path:c,json:t})})))&&void 0!==a?a:[],s=Ht.toPathArray(c),f=t.type?t.type:function(t){return t.every((function(t){return null===t}))?n.FieldType.string:t.filter((function(t){return null!==t})).every((function(t){return t.length>=10&&Et()(t).isValid()}))?n.FieldType.time:t.every((function(t){return"number"==typeof t}))?n.FieldType.number:t.every((function(t){return"boolean"==typeof t}))?n.FieldType.boolean:n.FieldType.string}(l),p=function(t,e){switch(e){case n.FieldType.time:if(t.filter((function(t){return t})).every((function(t){return"string"==typeof t})))return t.map((function(t){return null!==t?Et()(t).valueOf():t}));if(t.filter((function(t){return t})).every((function(t){return"number"==typeof t})))return t.filter((function(t){return t})).every((function(t){return t<1e12}))?t.map((function(t){return null!==t?1e3*t:t})):t;throw new Error("Unsupported time property");case n.FieldType.string:return t.every((function(t){return"string"==typeof t}))?t:t.map((function(t){return null===t?t:"object"===Jt(t)?JSON.stringify(t):t.toString()}));case n.FieldType.number:return t.every((function(t){return"number"==typeof t}))?t:t.map((function(t){return null!==t?parseFloat(t):t}));case n.FieldType.boolean:return t.every((function(t){return"boolean"==typeof t}))?t:t.map((function(t){if(null===t)return t;switch(t.toString()){case"0":case"false":case"FALSE":case"False":return 0;case"1":case"true":case"TRUE":case"True":return 1;default:throw new Error("Found non-boolean values in a field of type boolean: "+t.toString())}}));default:throw new Error("Unsupported field type")}}(l,f);return{name:u(null!==(i=t.name)&&void 0!==i?i:"")||s[s.length-1],type:f,values:new n.ArrayVector(p),config:{}}})),r}return e=i,r&&_e(e.prototype,r),o&&_e(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}(Pt.DataSourceWithBackend),Re=function(t,e){return function(r){return Ne((0,Pt.getTemplateSrv)().replace(r,t),e)}},Ne=function(t,e){return e?t.replace(/\$__unixEpochFrom\(\)/g,e.from.unix().toString()).replace(/\$__unixEpochTo\(\)/g,e.to.unix().toString()).replace(/\$__isoFrom\(\)/g,e.from.toISOString()).replace(/\$__isoTo\(\)/g,e.to.toISOString()):t},Be=new n.DataSourcePlugin(Me).setConfigEditor((function(t){var e=t.options,r=t.onOptionsChange,n=e.jsonData;return i().createElement("div",{className:"gf-form-group"},Z||(Z=i().createElement("h3",{className:"page-heading"},"WebSocket")),i().createElement("div",{className:"gf-form-group"},i().createElement("div",{className:"gf-form"},i().createElement(G,{label:"Host",labelWidth:10,inputWidth:30,onChange:function(t){var n=K({},e.jsonData,{host:t.target.value});r(K({},e,{jsonData:n}))},value:n.host||"",placeholder:"wss://api.domain.io/v1/ws/"}))),i().createElement(E,{dataSourceConfig:e,onChange:r}),i().createElement(Q,{dataSourceConfig:e,onChange:r}))})).setQueryEditor((function(t){var e=t.query,r=t.editorContext,n=t.onChange,o=t.onRunQuery;return i().createElement(Ft,xt({},t,{editorContext:r||"default",fieldsTab:i().createElement(ht,{value:e.fields,onChange:function(t){n(xt({},e,{fields:t})),o()},limit:t.limitFields})}))}))})(),l})()));
//# sourceMappingURL=module.js.map